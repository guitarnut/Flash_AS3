package com.starz.view{	import com.starz.events.GameEvent;	import com.starz.constants.GameScores;	import com.starz.view.components.TriviaScreen;	import flash.events.Event;	import com.greensock.TweenLite;	import flash.events.MouseEvent;	public class TriviaScreenOne extends TriviaScreen	{		private var _question:Number = 1;		private var _bgTween:TweenLite;		private var _sidebarTween:TweenLite;		private var _bgX:Number;		private var _bgY:Number;		private var _bgScale:Number;		public function TriviaScreenOne():void		{			prepQuestions();			continueButton.addEventListener(MouseEvent.CLICK, closeInstructions);		}		private function prepQuestions():void		{			q1.addEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q1.addEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q1.addEventListener(GameEvent.NEXT_QUESTION, nextQuestion);			q2.addEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q2.addEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q2.addEventListener(GameEvent.NEXT_QUESTION, nextQuestion);			q3.addEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q3.addEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q3.addEventListener(GameEvent.NEXT_QUESTION, nextQuestion);		}		private function cleanupListeners()		{			q1.removeEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q1.removeEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q1.removeEventListener(GameEvent.NEXT_QUESTION, nextQuestion);			q2.removeEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q2.removeEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q2.removeEventListener(GameEvent.NEXT_QUESTION, nextQuestion);			q3.removeEventListener(GameEvent.CORRECT_ANSWER, rightAnswer);			q3.removeEventListener(GameEvent.INCORRECT_ANSWER, wrongAnswer);			q3.removeEventListener(GameEvent.NEXT_QUESTION, nextQuestion);		}		public function startRound():void		{			_bgX = bg.x;			_bgY = bg.y;			_bgScale = bg.scaleX;			playMusic(new TriviaMusic(), true);		}		private function closeInstructions(e:MouseEvent):void {			_sidebarTween = new TweenLite(sidebar, .5, {x: 772});			continueButton.visible = false;			askQuestion();		}		private function askQuestion():void		{			switch (_question)			{				case 1 :					q1.showMe();					break;				case 2 :					_bgTween = new TweenLite(bg,1,{x:-39,y:-892,scaleX:1,scaleY:1});					q1.hideMe();					q2.showMe();					break;				case 3 :					_bgTween = new TweenLite(bg,1,{x:-88,y:-295,scaleX:.5,scaleY:.5});					q2.hideMe();					q3.showMe();					break;				case 4 :					_bgTween = new TweenLite(bg,1,{y:-362});					q3.hideMe();					cleanupListeners();					triviaComplete();					break;			}		}		private function nextQuestion(e:GameEvent):void		{			_question++;			askQuestion();		}		public function reset():void		{			q1.reset();			q2.reset();			q3.reset();			bg.x = _bgX;			bg.y = _bgY;			bg.scaleX = _bgScale;			bg.scaleY = _bgScale;			_question = 1;			_triviaWin.hideMe();			_triviaFail.hideMe();			sidebar.x = 385;			continueButton.visible = true;			prepQuestions();			_perfectRound = true;			_triviaAced = true;		}	}}