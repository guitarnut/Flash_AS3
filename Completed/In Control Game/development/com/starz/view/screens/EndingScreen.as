package com.starz.view.screens{	import com.starz.view.GameScreen;	import com.starz.events.GameEvent;	import com.starz.constants.Achievements;	import flash.events.Event;	import com.greensock.TweenLite;	import flash.events.MouseEvent;	public class EndingScreen extends GameScreen	{				private var _bgTween:TweenLite;		private var _scoreTween:TweenLite;		private var _replayTween:TweenLite;		public function EndingScreen():void		{		}		override public function showMe():void		{			playMusic(new EndMusic(), true);			replayButton.addEventListener(MouseEvent.CLICK, replayGame);			alpha = 0;			visible = true;			_showTween = new TweenLite(this,TWEEN_SPEED,{alpha:1});		}		public function animate():void		{			_bgTween = new TweenLite(bg,.5,{alpha:1});			_scoreTween = new TweenLite(scoreBox,.5,{alpha:1});			_replayTween = new TweenLite(replayButton,.5,{alpha:1});		}		public function finalScores(playerScore:Number, playerTrivia:Number, brokenScreens:Number, bonusItems:Number, playerAchievements:Array):void		{			scoreBox.score.text = String(playerScore);			scoreBox.broken.text = String(brokenScreens);			scoreBox.bonus.text = String(bonusItems);			scoreBox.trivia.text = String(playerTrivia) + " of 4 (" + calculatePercent(playerTrivia,4) + "%)";			scoreBox.achievements.text = String(playerAchievements.length) + " of 7 ("+calculatePercent(playerAchievements.length,7)+"%)";		}		private function calculatePercent(valueOne:Number, valueTwo:Number):Number		{			var percent:Number = Math.round((valueOne / valueTwo) * 100);			return percent;		}		private function replayGame(e:MouseEvent):void {			replayButton.removeEventListener(MouseEvent.CLICK, replayGame);			dispatchEvent(new GameEvent(GameEvent.REPLAY_GAME));			analytics("Replay");		}		override public function reset():void {			scoreBox.score.text = "";			scoreBox.trivia.text = "";			scoreBox.achievements.text = "";			scoreBox.broken.text = "";			scoreBox.bonus.text = "";			for (var i:Number = 1; i < this.numChildren; i++)			{				getChildAt(i).alpha = 0;			}		}	}}