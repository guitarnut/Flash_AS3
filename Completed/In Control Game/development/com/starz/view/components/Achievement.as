package com.starz.view.components{	import flash.display.MovieClip;	import com.greensock.TweenLite;	import flash.events.Event;	import com.starz.constants.ApplicationSettings;	import org.flintparticles.common.actions.Age;	import org.flintparticles.common.actions.Fade;	import org.flintparticles.common.counters.Steady;	import org.flintparticles.common.displayObjects.Line;	import org.flintparticles.common.easing.Quadratic;	import org.flintparticles.common.initializers.ColorInit;	import org.flintparticles.common.initializers.Lifetime;	import org.flintparticles.common.initializers.SharedImage;	import org.flintparticles.twoD.actions.Accelerate;	import org.flintparticles.twoD.actions.LinearDrag;	import org.flintparticles.twoD.actions.Move;	import org.flintparticles.twoD.activities.RotateEmitter;	import org.flintparticles.twoD.emitters.Emitter2D;	import org.flintparticles.twoD.initializers.Velocity;	import org.flintparticles.twoD.renderers.BitmapRenderer;	import org.flintparticles.twoD.zones.DiscSectorZone;	import flash.geom.Rectangle;	import flash.filters.BlurFilter;	import flash.filters.ColorMatrixFilter;	import fl.motion.easing.Quadratic;	import flash.geom.Point;	public class Achievement extends MovieClip	{		private static const TWEEN_SPEED:Number = .25;		private static const DELAY:Number = 3.5;		private var _showTween:TweenLite;		private var _hideTween:TweenLite;		private var emitter:Emitter2D;		public function Achievement()		{			init();		}		private function init():void		{			x = ApplicationSettings.STAGE_WIDTH - this.width - 15;			y = 5;			addEventListener(Event.ADDED_TO_STAGE,showMe);		}		public function showMe(e:Event):void		{			alpha = 0;			_showTween = new TweenLite(this,TWEEN_SPEED,{alpha:1,onComplete:hideMe});			runParticleFX();		}		public function hideMe():void		{			_hideTween = new TweenLite(this,TWEEN_SPEED,{delay:DELAY,alpha:0,onComplete:destroy});		}		public function destroy():void		{			emitter.stop( );			MovieClip(this.parent).removeChild(this);		}		private function runParticleFX():void		{			emitter = new Emitter2D();			emitter.counter = new Steady(100);			emitter.addActivity( new RotateEmitter( -10 ) );			emitter.addInitializer( new SharedImage( new BlueParticle() ) );			emitter.addInitializer( new Velocity( new DiscSectorZone( new Point( this.width/2, this.height/2 ), 500, 10, 0, 0.01 ) ) );			emitter.addInitializer( new Lifetime( 1 ) );			emitter.addAction( new Age( Quadratic.easeIn ) );			emitter.addAction( new Move() );			emitter.addAction( new Fade() );			emitter.addAction( new Accelerate( 0, 5 ) );			emitter.addAction( new LinearDrag( 1.5 ) );			var renderer:BitmapRenderer = new BitmapRenderer(new Rectangle(0,0,300,300));			//renderer.addFilter( new BlurFilter( 4, 4, 1 ) );			renderer.addEmitter( emitter );			addChildAt( renderer, 0 );			emitter.x = this.width/2;			emitter.y = 5;			emitter.start( );		}	}}