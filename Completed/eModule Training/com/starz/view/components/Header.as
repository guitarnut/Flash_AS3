package com.starz.view.components{	import flash.events.MouseEvent;	import com.starz.utils.URLNavigator;	import flash.display.MovieClip;	import flash.events.Event;	import flash.display.DisplayObject;	import com.starz.events.TrainingEvent;	public class Header extends SimpleMC	{		private var _currentMenu:String;		private var _isActive:Boolean = false;		public function Header()		{			addEventListener(Event.ADDED_TO_STAGE, init);		}		private function init(e:Event):void		{			//This was used to track the percent completed.  Feature removed.			//addEventListener(Event.ENTER_FRAME, updateStatus);			toggleMenu();			cleanupMenuContent();			setupButtons();			location();			percentCompleted();		}		private function setupButtons():void		{			starz.buttonMode = true;			b_viewStamps.showButton();			b_travel.showButton();			b_quit.showButton();			b_viewStamps.addEventListener(MouseEvent.CLICK, handleButtonClick);			b_travel.addEventListener(MouseEvent.CLICK, handleButtonClick);			b_quit.addEventListener(MouseEvent.CLICK, handleButtonClick);			starz.addEventListener(MouseEvent.CLICK, handleButtonClick);			menu.mc_stamps.b_yes.showButton();			menu.mc_travel.b_yes.showButton();			menu.mc_quit.b_yes.showButton();			menu.mc_stamps.b_no.showButton();			menu.mc_travel.b_no.showButton();			menu.mc_quit.b_no.showButton();			menu.mc_stamps.b_yes.addEventListener(MouseEvent.CLICK, function(){ dispatchEvent(new TrainingEvent(TrainingEvent.GOTO_STAMPS_SCREEN, true, true)); toggleMenu();});			menu.mc_travel.b_yes.addEventListener(MouseEvent.CLICK, function(){ dispatchEvent(new TrainingEvent(TrainingEvent.GOTO_TRAVEL_SCREEN, true, true)); toggleMenu();});			menu.mc_quit.b_yes.addEventListener(MouseEvent.CLICK, function(){ dispatchEvent(new TrainingEvent(TrainingEvent.QUIT, true, true)); toggleMenu();});			menu.mc_stamps.b_no.addEventListener(MouseEvent.CLICK, function(){ toggleMenu()});			menu.mc_travel.b_no.addEventListener(MouseEvent.CLICK, function(){ toggleMenu()});			menu.mc_quit.b_no.addEventListener(MouseEvent.CLICK, function(){ toggleMenu()});		}		private function handleButtonClick(e:MouseEvent):void		{			switch (e.target.name)			{				case 'b_viewStamps' :					showMenu('stamps',e.target);					break;				case 'b_travel' :					showMenu('travel',e.target);					break;				case 'b_quit' :					showMenu('quit',e.target);					break;				case 'starz' :					URLNavigator.ChangePage('http://www.starz.com');					break;			}		}		private function showMenu($d:String, $mc:*):void		{			menu.pointer.x = $mc.x - menu.x;			//cleanupMenuContent();			if (_currentMenu == $d)			{				menu.hideMC();				_currentMenu = null;			}			else			{				menu.showMC();				switch ($d)				{					case 'stamps' :						menu.mc_stamps.showMC();						menu.mc_travel.hideMC();						menu.mc_quit.hideMC();						break;					case 'travel' :						menu.mc_travel.showMC();						menu.mc_stamps.hideMC();						menu.mc_quit.hideMC();						break;					case 'quit' :						menu.mc_quit.showMC();						menu.mc_stamps.hideMC();						menu.mc_travel.hideMC();						break;				}				_currentMenu = $d;			}		}		private function cleanupMenuContent():void		{			menu.mc_stamps.hideMC();			menu.mc_travel.hideMC();			menu.mc_quit.hideMC();		}		private function toggleMenu($b:Boolean=false):void		{			if ($b)			{				menu.showMC();			}			else			{				menu.hideMC();			}		}		//This was used to track the percent completed.  Feature removed.		/*private function updateStatus(e:Event):void		{			try			{				var mc = this.parent.getChildAt(1);				var percent:Number = Math.round((mc.currentFrame/mc.totalFrames)*100);				percentCompleted(percent);			}			catch (e:Error)			{				removeEventListener(Event.ENTER_FRAME, updateStatus);			}		}*/		public function location($t:String='Home'):void		{			$t = $t.toUpperCase();			text_currentLocation.text = $t;		}		public function keyMessage($t:String='STARZ is Taking You Places'):void		{			text_keyMessage.text = $t;		}		public function percentCompleted($n:Number=0):void		{			//text_percentCompleted.text = String($n) + '%';		}	}}