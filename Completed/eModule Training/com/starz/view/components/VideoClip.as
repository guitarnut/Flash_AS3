package com.starz.view.components{	import flash.display.MovieClip;	import com.greensock.TweenLite;	import flash.events.Event;	import fl.video.VideoEvent;	import com.starz.view.screens.base.TrainingScreen;	import fl.video.FLVPlayback;	import flash.events.MouseEvent;	public class VideoClip extends SimpleMC	{		protected var TWEEN_SPEED:Number = .5;		protected var _source:String = "NONE";		protected var _autoAdvance:Boolean = true;		public function VideoClip()		{			init();		}		private function init():void		{			alpha = 0;			visible = false;			addListeners();		}		protected function addListeners():void		{			addEventListener(Event.ENTER_FRAME, showVideo);			flvVideo.addEventListener(VideoEvent.COMPLETE, hideVideo);			skipButton.addEventListener(MouseEvent.CLICK, hideVideo);		}		public function showVideo(e:Event = null):void		{			visible = true;			if (hasEventListener(Event.ENTER_FRAME))			{				removeEventListener(Event.ENTER_FRAME, showVideo);			}			new TweenLite(this,TWEEN_SPEED,{alpha:1,onComplete:playVideo});		}		public function hideVideo(e:*=null):void		{			flvVideo.removeEventListener(VideoEvent.COMPLETE, hideVideo);			skipButton.removeEventListener(MouseEvent.CLICK, hideVideo);			new TweenLite(this,TWEEN_SPEED,{alpha:0,onComplete:reset});		}		protected function playVideo():void		{			FLVPlayback(flvVideo).play(_source);			skipButton.showButton();		}		public function reset():void		{			visible = false;			FLVPlayback(flvVideo).seek(0);			FLVPlayback(flvVideo).stop();			FLVPlayback(flvVideo).source = null;						//FLVPlayback(flvVideo).play("http://www.starz.com/videos/FPO.flv");						skipButton.addEventListener(MouseEvent.CLICK, hideVideo);			if (_autoAdvance)			{				TrainingScreen(this.parent).advanceScreen();			}			alpha = 0;		}		public function set videoSource(v$):void		{			_source = v$;		}		public function set autoAdvance(a$):void		{			_autoAdvance = a$;						if (! _autoAdvance)			{				removeEventListener(Event.ENTER_FRAME, showVideo);			}		}	}}