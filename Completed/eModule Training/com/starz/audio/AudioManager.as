package com.starz.audio{	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.events.Event;	import flash.display.MovieClip;	import com.greensock.TweenLite;	import flash.media.SoundTransform;	public class AudioManager extends MovieClip	{		public var MUSIC_VOLUME:Number = .05;		private var _mp3:Sound;		private var _sc:SoundChannel;		private var _soundPosition:Number;		private var _soundTransform:SoundTransform;		public function AudioManager()		{			init();		}		private function init():void		{			_sc = new SoundChannel();			_soundTransform = new SoundTransform();		}		private function addListeners():void		{			_sc.addEventListener(Event.SOUND_COMPLETE, audioComplete);		}		private function removeListeners():void		{			_sc.removeEventListener(Event.SOUND_COMPLETE, audioComplete);		}		private function audioComplete(e:Event):void		{			dispatchEvent(new Event(Event.COMPLETE));			removeListeners();		}		public function playAudio(a$:*):void		{			_sc.stop();			_mp3 = a$;			_sc = _mp3.play(0,0,_soundTransform);			addListeners();		}		public function pauseAudio():void		{			_soundPosition = _sc.position;			_sc.stop();		}		public function resumeAudio():void		{			_sc = _mp3.play(_soundPosition,999,_soundTransform);		}		public function stopAudio():void		{			_sc.stop();			removeListeners();		}		public function playMusic(a$:*, v$ = .05, loop:Boolean = true):void		{			_mp3 = a$;						if (!loop)			{				_sc = _mp3.play(0,0,_soundTransform);			}			else			{				_sc = _mp3.play(0,999,_soundTransform);			}			_soundTransform.volume = v$;			_sc.soundTransform = _soundTransform;		}		public function pauseMusic():void		{			_soundPosition = _sc.position;			_sc.stop();		}		public function lowerVolume(v$:Number):void		{			TweenLite.to(_soundTransform, 2, {volume:v$, onUpdate:updateVolume});		}		public function raiseVolume(v$:Number):void		{			TweenLite.to(_soundTransform, 2, {volume:v$, onUpdate:updateVolume});		}		private function updateVolume():void		{			_sc.soundTransform = _soundTransform;		}		public function resumeMusic():void		{			_sc = _mp3.play(_soundPosition);		}		public function fadeMusic():void		{			stopMusic();		}		public function stopMusic():void		{			_sc.stop();		}	}}