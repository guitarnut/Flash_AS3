package com.gnut.camera{	import flash.media.Camera;	import flash.media.Video;	import flash.display.BitmapData;	import flash.display.Bitmap;	import flash.display.MovieClip;	public class UserCamera extends MovieClip	{		private var $c:Camera;		private var $v:Video;		private var $b:BitmapData;		private var $i:Bitmap;		private var $mc:MovieClip;		public function UserCamera($w:Number, $h:Number)		{			init($w, $h);		}		private function init($w:Number, $h:Number):void		{			$c = Camera.getCamera();			$c.setMode($w,$h, 25);			$v = new Video($c.width,$c.height);			$v.attachCamera($c);			addChild($v);		}		public function captureImage():void		{			$b = new BitmapData(this.width,this.height);			$b.draw(this);			$i = new Bitmap($b);			$mc = new MovieClip();			$mc.addChild($i);		}		public function get image():MovieClip		{			return $mc;		}	}}