package com.gnut.media.audioplayer.components{	import flash.display.MovieClip;	import flash.media.Sound;	import flash.events.Event;	import com.gnut.media.audioplayer.events.AudioPlayerEvent;	import flash.net.URLRequest;	public class TrackLoader extends MovieClip	{		private var _tracks:Array;		private var _trackLoadCount:Number;		private var _totalTracks:Number;		public function TrackLoader()		{			init();		}		private function init():void		{			_tracks = new Array();			_trackLoadCount = 0;		}		public function loadTracks($t:Array):void		{			_totalTracks = $t.length;						for (var i:Number = 0; i<$t.length; i++)			{				var trackInfo:Array = $t[i];				var trackName:String = trackInfo[0];				var trackPath:String = trackInfo[1];								var _mp3:Sound = new Sound();				_mp3.addEventListener(Event.COMPLETE, trackReady);				_mp3.load(new URLRequest(trackPath));				_tracks.push(new Array(trackName,_mp3));			}		}		private function trackReady(e:Event):void		{			_trackLoadCount++;						if(_trackLoadCount == _totalTracks)			{				dispatchEvent(new AudioPlayerEvent(AudioPlayerEvent.TRACKS_LOADED));			}		}		public function get tracks():Array		{			return(_tracks);		}	}}