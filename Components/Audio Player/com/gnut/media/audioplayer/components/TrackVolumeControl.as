package com.gnut.media.audioplayer.components{	import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.events.Event;	import com.gnut.media.audioplayer.events.AudioPlayerEvent;	public class TrackVolumeControl extends MovieClip	{		private var _v:MovieClip;		private var _volume:Number;		private var _savedVolume:Number;		public function TrackVolumeControl($mc:MovieClip)		{			_v = $mc;			init();		}		private function init():void		{			_v.buttonMode = true;			_v.addEventListener(MouseEvent.CLICK, adjustVolume);		}		private function adjustVolume(e:MouseEvent = null):void		{			if (e!=null)			{				updateVolumeBar(_v.mouseX);				_volume = _v.mc_volumeBar.width / _v.width;			}			else			{				updateVolumeBar(_v.width*_volume);				_volume = _v.mc_volumeBar.width / _v.width;			}			_v.dispatchEvent(new AudioPlayerEvent(AudioPlayerEvent.VOLUME_CLICKED, true, false));		}		private function updateVolumeBar($v):void		{			_v.mc_volumeBar.width = $v;		}		public function mute():void		{			_savedVolume = _volume;			updateVolumeBar(0);		}		public function unmute():void		{			_volume = _savedVolume;			updateVolumeBar(Math.round(_savedVolume*100));		}		public function set volume($v:Number)		{			_volume = $v;			adjustVolume();		}		public function get volume():Number		{			return _volume;		}	}}